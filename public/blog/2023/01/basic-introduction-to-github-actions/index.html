<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Basic introduction to GitHub Actions -
        Krystian&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="http://krystianbucko.com/favicon-32x32.png">
    

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Fira&#43;Mono&amp;family=Lato:wght@300;400;700&amp;family=Source&#43;Sans&#43;Pro&amp;display=swap" rel="stylesheet">

    <meta name="description" content="Learn how to deploy files onto a Google Cloud Storage bucket using GitHub Actions."/>
<meta property="og:title" content="Basic introduction to GitHub Actions"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="http://krystianbucko.com/blog/2023/01/basic-introduction-to-github-actions/"/>
<meta property="og:image" content="http://krystianbucko.com/images/github-actions-hero.jpg"/>
<meta property="og:description" content="Learn how to deploy files onto a Google Cloud Storage bucket using GitHub Actions."/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@KrystianBucko"/>
<meta name="twitter:creator" content="@KrystianBucko"/>

    
    
    
    <link rel="stylesheet" href="/css/dist/style.min.f0eb2369e5ebfa4636f366a644be568e5e78b6b867571051940e6f7a0da007d3.css" integrity="sha256-8OsjaeXr+kY282amRL5Wjl54trhnVxBRlA5veg2gB9M=" />
    
</head>

<body class='page '>
    <div id="menu-container"
  class=" bg-blue-600 h-screen w-screen fixed z-50 py-6 bg-gradient-to-b from-green-400 to-blue-500 opacity-90 overflow-hidden hidden">
  <div class="container mx-auto px-6 md:px-4 relative flex flex-col items-center justify-around">
    <div id="menu-close" role="button" class="top-1 right-5 absolute hover:opacity-70 cursor:pointer text-white">
      <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28" height="28" viewBox="0 0 48 48">
        <path fill="currentColor"
          d="M 39.486328 6.9785156 A 1.50015 1.50015 0 0 0 38.439453 7.4394531 L 24 21.878906 L 9.5605469 7.4394531 A 1.50015 1.50015 0 0 0 8.484375 6.984375 A 1.50015 1.50015 0 0 0 7.4394531 9.5605469 L 21.878906 24 L 7.4394531 38.439453 A 1.50015 1.50015 0 1 0 9.5605469 40.560547 L 24 26.121094 L 38.439453 40.560547 A 1.50015 1.50015 0 1 0 40.560547 38.439453 L 26.121094 24 L 40.560547 9.5605469 A 1.50015 1.50015 0 0 0 39.486328 6.9785156 z">
        </path>
      </svg>
    </div>
    <div class="flex flex-col text-center text-white text-3xl font-light">
      
      
      <a class="py-2 hover:opacity-70"
        href="/">Home</a>
      
      <a class="py-2 hover:opacity-70"
        href="/posts/">Blog</a>
      
      <a class="py-2 hover:opacity-70"
        href="/contact/">Contact</a>
      
    </div>
  </div>
</div>
    <div class="container mx-auto px-6 md:px-4">
        <header class="flex bg-white items-center justify-between py-6">
  <div class="hidden md:block">
    <a class="flex items-center hover:opacity-70 transition duration-300 ease-in-out" href="http://krystianbucko.com/">
      
      <img class="mr-2" height="32"
        width="32" alt=" Logo"
        src="/images/logo/logo.png" />
      
      
      <h2 class="text-2xl font-sans font-semibold">Krystian&#39;s Blog</h2>
      
    </a>
  </div>
  <div class="block md:hidden">
    <a class="flex items-center hover:opacity-70 transition duration-300 ease-in-out" href="http://krystianbucko.com/">
      
      <img height="32" width="32"
        alt=" Logo" src="/images/logo/logo-mobile.png" />
      
      
      <h2 class="text-2xl font-sans font-semibold">Krys&#39; Blog </h2>
      
    </a>
  </div>
  <button class="hover:opacity-70 transition duration-300 ease-in-out text-black" id="menu-trigger">
    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="28" height="28" viewBox="0 0 48 48">
      <path fill="currentColor"
        d="M 5.5 9 A 1.50015 1.50015 0 1 0 5.5 12 L 42.5 12 A 1.50015 1.50015 0 1 0 42.5 9 L 5.5 9 z M 5.5 22.5 A 1.50015 1.50015 0 1 0 5.5 25.5 L 42.5 25.5 A 1.50015 1.50015 0 1 0 42.5 22.5 L 5.5 22.5 z M 5.5 36 A 1.50015 1.50015 0 1 0 5.5 39 L 42.5 39 A 1.50015 1.50015 0 1 0 42.5 36 L 5.5 36 z">
      </path>
    </svg>
  </button>
</header>

        






<div class="heading py-6 md:py-12 lg:w-10/12 md:text-center mx-auto">
  
  
  <div class="font-medium text-gray-700">6 Jan, 2023</div>
  
  <h1 class="heading text-4xl md:text-6xl font-bold font-sans md:leading-tight">
    Basic introduction to GitHub Actions
  </h1>
  
  <h2 class="text-xl text-gray-600 mt-2">Learn how to deploy files onto a Google Cloud Storage bucket using GitHub Actions.</h2>
  
</div>


<div class="flex flex-col pb-3 md:hidden">
    



<div class="flex items-center mb-3 last:mb-0">
  
    <img height="48" width="48" class="rounded-full border-white border-2" src="/images/author/krys.jpg" alt="Krystian Bucko"/>
  
  <div>
    <span class="font-medium text-sm ml-1 block">Krystian Bucko</span>
    <a class="text-sm ml-1 block text-green-400" href="https://www.twitter.com/"></a>
  </div>
</div>
</div>


<img width="1600" height="900" src="/images/github-actions-hero.jpg" />

<div class="flex flex-col md:flex-row py-6 md:py-12">

    <div class="w-full md:w-3/12 pr-3">
        
        <div class="hidden flex-col md:flex mb-3 md:mb-6">
            



<div class="flex items-center mb-3 last:mb-0">
  
    <img height="48" width="48" class="rounded-full border-white border-2" src="/images/author/krys.jpg" alt="Krystian Bucko"/>
  
  <div>
    <span class="font-medium text-sm ml-1 block">Krystian Bucko</span>
    <a class="text-sm ml-1 block text-green-400" href="https://www.twitter.com/@KrystianBucko">@KrystianBucko</a>
  </div>
</div>
        </div>
        

        
        <div class="hidden md:block">
            
            <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/how-to-guide">How-to guide</a>
            
            <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/github">GitHub</a>
            
            <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/github-actions">GitHub Actions</a>
            
            <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/january-2023">January 2023</a>
            
        </div>
        
    </div>

    <div class="w-full md:w-9/12">
        <div class="prose">
            <h2 id="outline">Outline</h2>
<p>GitHub Actions are a powerful way of automating your tasks. Often, when you work on a project you will regularly find yourself pushing new updates and features. Naturally then, these changes need to be published in several spaces; be it a GitHub repository, a cloud storage bucket, or anywhere else your code is set to function. This action alone can double and triple your work.
This is where GitHub actions can do all the lifting for you.</p>
<p>In this short blog we will break down a GitHub action for you, allowing you to set one up.</p>
<h2 id="getting-started">Getting started</h2>
<p>GitHub actions are defined in your repository under directory .github/workflows/your-github-action-name.yml</p>
<p>You can either create the directory yourself, or you can use the UI to get cool suggestions, and have it create the directories for you. Depending on the contents of your repository, GitHub will make best possible guess at what you may want to do.</p>
<h2 id="dissecting-a-github-action-pushing-content-to-a-google-cloud-storage-bucket">Dissecting a GitHub Action pushing content to a Google Cloud Storage bucket</h2>
<p>Here we will analyse a YAML file line-by-line to get a true understanding of what our GitHub action is doing.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Push Contents To Google Cloud Storage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="l">push</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy_site</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;ubuntu-latest&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">permissions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l">read</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Checkout repository</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;actions/checkout@v3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">auth</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Authenticate to Google Cloud</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;google-github-actions/auth@v1&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">credentials_json</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;${{ secrets.GOOGLE_CREDENTIALS }}&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;upload-folder&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;google-github-actions/upload-cloud-storage@v1&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">public</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="l">krystianbucko.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">parent</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>The <code>name</code> property at the start refers to the name of your GitHub action. You can name it whatever you want, hopefully something clear and meaningful for later.</p>
<p>The <code>on</code> property specifies when our github action is triggered. Think of it as &lsquo;when do I really want this automation to take place&rsquo;. For my project, I want any updates I make to be sent to my Google bucket as soon as possible. In GitHub Actions that&rsquo;s by setting the property to <code>push</code> AKA <code>git push</code>.</p>
<p>Property <code>jobs</code> are blocks of sequential steps. The block I have defined for my project is called <code>deploy_site</code> (the name is arbitrary).</p>
<p><code>runs-on</code> defines what system GitHub will spin up to run our job.</p>
<p><code>permissions</code> states the range of access our job has. When we set <code>contents</code> to <code>read</code>, we enable the action to read our repository.</p>
<p><code>steps</code> refers to the individual steps our action takes to complete the job. We have used the property <code>name</code> to make it very clear what a step does.</p>
<p><code>uses</code> reuses an external github action. We want to keep the code DRY.</p>
<p><code>actions/checkout@v3</code> refers to opening repository n the system.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl">- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">auth</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Authenticate to Google Cloud</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;google-github-actions/auth@v1&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">credentials_json</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;${{ secrets.GOOGLE_CREDENTIALS }}&#39;</span><span class="w">
</span></span></span></code></pre></div><p>The above step authorises our github action to access our Google bucket. In order to do this you need to set up access credentials from your cloud provider. I use a JSON file to store my credentials and feed them to my GitHub action using a GitHub secret. I have a separate <a href="http://krystianbucko.com/blog/2022/12/secrets-in-github-actions-conceal-sensitive-data-with-secret-variables/">blog post on creating GitHub secrets</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl">- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;upload-folder&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;google-github-actions/upload-cloud-storage@v1&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">public</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">destination</span><span class="p">:</span><span class="w"> </span><span class="l">krystianbucko.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">parent</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span></code></pre></div><p>The final step above takes care of the uploading process. I upload a specific folder from my repository using the <code>google-github-actions/upload-cloud-storage@v1</code> action. The <code>path</code> property refers to the name of the folder we wish to upload. <code>destination</code> refers to the name of your bucket. Because I am uploading a website, I do not want the contents of my upload to be within a folder, which is why we set the property <code>parent</code> to <code>false</code>.</p>
<p>If you have set up your action to be triggered by <code>push</code>, all that s left to do is just <code>git push</code>. You can check on the status of the action by going to your repository&rsquo;s &ldquo;Actions&rdquo; section. If all is well you should see a big green tick. Conveniently, GitHub does provide you with error logs if anything does not quite go to plan. I hope this helps you with automating your tasks.</p>
<p>Stay tuned for more, and in the meantime, happy automating! :)</p>

        </div>
    </div>

</div>


<div class="py-6 mt-6 border-t-2 block md:hidden">
    <h3 class="text-sm font-medium mb-1">Categories</h3>
    <div>
        
        <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/how-to-guide">How-to guide</a>
        
        <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/github">GitHub</a>
        
        <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/github-actions">GitHub Actions</a>
        
        <a class="p-1 px-3 mr-1 mb-1 inline-block text-xs font-mono rounded bg-green-200 text-green-800 hover:bg-blue-200 hover:text-blue-800 transition duration-300 ease-in-out" href="/categories/january-2023">January 2023</a>
        
    </div>
</div>



        



<footer class="py-6 border-t-2">
  <div class="container mx-auto">
    <div class="flex mb-2">
      
        <a class="py-2 mr-2" href="https://github.com/Krys333"><img width="24" height="24" src="https://simpleicons.org/icons/github.svg" alt="Github" /></a>
      
        <a class="py-2 mr-2" href="https://www.linkedin.com/in/krystian-bucko/"><img width="24" height="24" src="https://simpleicons.org/icons/linkedin.svg" alt="Linkedin" /></a>
      
        <a class="py-2 mr-2" href="https://www.instagram.com/krystianbucko333"><img width="24" height="24" src="https://simpleicons.org/icons/instagram.svg" alt="Instagram" /></a>
      
    </div>
    <div class="text-sm text-gray-600">
      <span>I have built my blog with the </span>
      <a class="text-green-500" href="https://gohugo.io/">Hugo</a>
      <span>framework. Do check it out.</span>
    </div>
</footer>

    </div>

    
    

    

    
    <script type="text/javascript" src="/js/bundle.min.7d96da6b346104485ed09a6021bb756b653326d73ed3adac0c40a160ce0a4e52.js"></script>
    

    

    
    
    
        
            
            <script async
                    src="https://www.googletagmanager.com/gtag/js?id=UA-172946404-1"></script>
            <script>
              window.dataLayer = window.dataLayer || [];

              function gtag() {
                dataLayer.push(arguments);
              }

              gtag('js', new Date());
              gtag('config', 'UA-172946404-1');
            </script>
        
    

</body>

</html>